<!doctype html>
<html>

<head>
    <title>Meeting's Histogram</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

</head>

<body>

<a id="logout" href="https://accounts.google.com/logout" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" >LogOut</a>

<div id="container" style="width: 75%;">
    <canvas id="canvas"></canvas>
</div>
<script>
    $("#logout").click(function () {
     //   $("#logout").hide();
        document.location.href="/";
    })

    var ctx = document.getElementById('canvas').getContext('2d');
    var data1 = <%- JSON.stringify(histogram) %>;
    console.log(data1);
    if(data1 == null){
        console.log("Undefined");
    }else {
        var histogram1 = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
                datasets: [{
                    label: 'Meeting count',
                    data: data1,
                    backgroundColor: "rgba(59,172,191,0.7)"
                }]
            },
            options: {
                title: {
                    display: true,
                    text: 'Your historical meeting data'
                },
                legend: {
                    display: false
                },
                scales: {
                    xAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: '# of people invited to meeting'
                        }
                    }],
                    yAxes: [{
                        scaleLabel: {
                            display: true,
                            labelString: '# of meetings'
                        }
                    }]
                }
            }
        });
    }
</script>
</body>

</html>